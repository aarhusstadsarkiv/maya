{% extends "base.html" %}

{% block content %}

{% include "includes/main_title.html" %}

{% macro parse_collectors (data) %}
    {% for item in data %}
        <a href="/search?collectors={{ item.id }}">{{ item.label }}</a>
    {% endfor %}
{% endmacro %}

{% macro parse_content_types (data) %}
    {% for item in data %}
        <a href="/search?content_types={{ item.id }}">{{ item.label }}</a>
    {% endfor %}
{% endmacro %}

{% macro parse_curators (data) %}
    {% for item in data %}
        <a href="/search?curators={{ item.id }}">{{ item.label }}</a>
    {% endfor %}
{% endmacro %}

{% macro parse_creators (data) %}
    {% for item in data %}
        <a href="/search?creators={{ item.id }}">{{ item.label }}</a>
    {% endfor %}
{% endmacro %}

{% macro parse_subjects (data) %}
    {% for item in data %}
        <a href="/search?subjects={{ item.id }}">{{ item.label }}</a>
    {% endfor %}
{% endmacro %}

{% macro parse_series_normalized (data) %}
    {% for item in data %}
        <a href="/search?{{ item.query }}">{{ item.series }}</a>
    {% endfor %}
{% endmacro %}

{% macro parse_collection (data) %}
    <a href="/search?collection={{ data.id }}">{{ data.label }}</a>
{% endmacro %}

{% macro parse_organisations (data) %}
    {% for item in data %}
        <a href="/search?organisations={{ item.id }}">{{ item.label }}</a>
    {% endfor %}
{% endmacro %}

{% macro parse_locations (data) %}
    {% for item in data %}
        <a href="/search?locations={{ item.id }}">{{ item.label }}</a>
    {% endfor %}
{% endmacro %}


{% macro parse_last_updated (data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_desc_data (data) %}
    <table>
    {% for key, value in data.items() %}
        <tr>
            <td>
                {{ key }}
            </td>
            <td>
                {{ value }}
            </td>
        </tr>
    {% endfor %}
    </table>
{% endmacro %}

{% macro parse_admin_notes (data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_heading (data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_availability (data) %}
    <pre>{{ data.label }}</pre>
{% endmacro %}

{% macro parse_contractual_status (data) %}
    <pre>{{ data.label }}</pre>
{% endmacro %}

{% macro parse_registration_id (data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_date_from(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_created_by(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_id(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_other_legal_restrictions(data) %}
    <pre>{{ data.label }}</pre>
{% endmacro %}

{% macro parse_copyright_status(data) %}
    <pre>{{ data.label }}</pre>
{% endmacro %}

{% macro parse_last_updated_by(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_date_to(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_created(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_usability(data) %}
    <pre>{{ data.label }}</pre>
{% endmacro %}

{% macro parse_schema(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_type(data) %}
    <pre>{{ data }}</pre>
{% endmacro %}

{% macro parse_header(data) %}
    <strong>{{ data }}</strong>
{% endmacro %}

{% set skip = ['series'] %}

{% macro print_record(data) %}
    {% for key, value in data.items() if not key in skip %}
        {{ parse_header(key) }}

        {% if key == 'collectors' %}
            {{ parse_collectors(value) }}
        {% elif key == 'content_types' %}
            {{ parse_content_types(value) }}
        {% elif key == 'curators' %}
            {{ parse_curators(value) }}
        {% elif key == 'creators' %}
            {{ parse_curators(value) }}
        {% elif key == 'collection' %}
            {{ parse_collection(value) }}
        {% elif key == 'subjects' %}
            {{ parse_subjects(value) }}
        {% elif key == 'series_normalized' %}
            {{ parse_series_normalized(value) }}
        {% elif key == 'organisations' %}
            {{ parse_organisations(value) }}
        {% elif key == 'last_updated' %}
            {{ parse_last_updated(value) }}
        {% elif key == 'desc_data' %}
            {{ parse_desc_data(value) }}
        {% elif key == 'admin_notes' %}
            {{ parse_admin_notes(value) }}
        {% elif key == 'heading' %}
            {{ parse_heading(value) }}
        {% elif key == 'availability' %}
            {{ parse_availability(value) }}
        {% elif key == 'contractual_status' %}
            {{ parse_contractual_status(value) }}
        {% elif key == 'registration_id' %}
            {{ parse_registration_id(value) }}
        {% elif key == 'date_from' %}
            {{ parse_date_from(value) }}
        {% elif key == 'created_by' %}
            {{ parse_created_by(value) }}
        {% elif key == 'id' %}
            {{ parse_id(value) }}
        {% elif key == 'other_legal_restrictions' %}
            {{ parse_other_legal_restrictions(value) }}
        {% elif key == 'copyright_status' %}
            {{ parse_copyright_status(value) }}
        {% elif key == 'last_updated_by' %}
            {{ parse_last_updated_by(value) }}
        {% elif key == 'date_to' %}
            {{ parse_date_to(value) }}
        {% elif key == 'created' %}
            {{ parse_created(value) }}
        {% elif key == 'usability' %}
            {{ parse_usability(value)}}
        {% elif key == 'schema' %}
            {{ parse_schema(value)}}
        {% elif key == 'type' %}
            {{ parse_type(value)}}
        {% elif key == 'locations' %}
            {{ parse_locations(value)}}
        {% else %}
            {{ value }}
        {% endif %}
    {% endfor %}
{% endmacro %}

{{ print_record(record_dict) }}

<pre>
    {{ record_json }}
</pre>

{% endblock content %}