{% import "macros/admin_macros.html" as admin_macros %}
{% import "macros/basic_macros.html" as basic_macros %}

{% extends "base.html" %}

{% block body_class %}page-admin-orders{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', path='/css/table.css') }}?v={{ get_setting('version') }}">
{% endblock head %}

{% block content %}

{% include "admin/menu.html" %}

{{ basic_macros.page_title(title) }}


{% if orders|length == 0 %}
<p>Der er ingen ordrer.</p>
{% else %}
<table>
    <thead>
        <tr>
            <th>Materiale</th>
            <th>Navn</th>
            <th>Lokation</th>
            <th>Status</th>
            <th>Oprettet</th>
            <th>Opdateret</th>
            <th>Placering</th>
            <th>Handling</th>
        </tr>
    </thead>
    <tbody>
        {% for order in orders %}
        <tr>
            <td>
                <a title="{{ order.label }}" href="/records/{{order.record_id}}">{{ order.label }}</a>
            </td>
            <td>{{ order.user_display_name }}</td>
            <td>{{ order.user_status_human }}</td>
            <td>{{ order.location_human }}</td>
            <td>{{ order.created_at }}</td>
            <td>{{ order.updated_at }}</td>
            <td>{{ order.resources }}</td>
            <td><a href="/admin/orders/{{order.order_id}}/edit">Rediger</a></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}
<style>

    td a {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        display: inline-block;
        max-width: 200px; /* Adjust width to fit your design */
    }

    
    .container-medium {
        width: unset;
    }
    
</style>


{# <pre>{{ to_json(orders)}}</pre> #}


{% endblock content %}
